name: "Flutter CI"
on:
    push:
        paths:
            - 'number_games/**'

jobs:
    check-format:
        runs-on: ubuntu-latest
        steps:
            - name: "Get Code"
              uses: actions/checkout@v2
            - name: "Install Flutter"
              uses: subosito/flutter-action@v1
              with:
                  channel: stable
            - name: "Setup Project"
              run: flutter pub get
                working-directory: 'number_games/'
            - name: "Check Format"
              run: flutter format -l 120 --set-exit-if-changed .
                working-directory: 'number_games/'
    analyze-code:
        runs-on: ubuntu-latest
        steps:
            - name: "Get Code"
              uses: actions/checkout@v2
            - name: "Install Flutter"
              uses: subosito/flutter-action@v1
              with:
                  channel: stable
            - name: "Setup Project"
              run: flutter pub get
                working-directory: 'number_games/'
            - name: "Analyze code"
              run: flutter analyze
                working-directory: 'number_games/'

